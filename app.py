# -*- coding: utf-8 -*-
"""APP.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1U0zQo2Jpx2eHlDB3Yg1sNEawTspmoDHP
"""

!pip install streamlit

import pickle
import numpy as np

with open("scaler.pkl", "rb") as f:
    scaler = pickle.load(f)

with open("lr_model.pkl", "rb") as f:
    model = pickle.load(f)

import streamlit

streamlit.set_page_config(page_title="Flood Risk Classification", layout="centered")

streamlit.title("Flood Risk Classification App")
streamlit.write("Enter the input values below to predict the flood risk level.")

feature_names = [
    'MonsoonIntensity', 'TopographyDrainage', 'RiverManagement',
       'Deforestation', 'Urbanization', 'ClimateChange', 'DamsQuality',
       'Siltation', 'AgriculturalPractices', 'Encroachments',
       'IneffectiveDisasterPreparedness', 'DrainageSystems',
       'CoastalVulnerability', 'Landslides', 'Watersheds',
       'DeterioratingInfrastructure', 'PopulationScore', 'WetlandLoss',
       'InadequatePlanning', 'PoliticalFactors']

user_inputs = []
for feature in feature_names:
    value = streamlit.number_input(f"{feature}", value=0.0)
    user_inputs.append(value)

input_array = np.array(user_inputs).reshape(1, -1)

# Scale inputs
scaled_input = scaler.transform(input_array)

# Prediction
if streamlit.button("Predict Flood Risk"):
    prediction = model.predict(scaled_input)[0]
    if prediction < 0.3:
      remark = "green zone"
    elif prediction < 0.6:
      remark = "yellow zone"
    else:
      remark = "red zone"
    streamlit.write(f'flood chances prediction: {prediction}, we remark it as {remark}.')